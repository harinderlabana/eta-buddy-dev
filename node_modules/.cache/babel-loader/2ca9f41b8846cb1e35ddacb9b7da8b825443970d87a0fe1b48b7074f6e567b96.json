{"ast":null,"code":"import _objectSpread from\"/Users/harinderlabana/Code/eta-buddy-dev/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"/Users/harinderlabana/Code/eta-buddy-dev/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/harinderlabana/Code/eta-buddy-dev/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/harinderlabana/Code/eta-buddy-dev/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{logEvent}from\"./analytics\";// Import the logEvent function from analytics.js\nimport{useTable,useGlobalFilter}from\"react-table\";import{fetchCSVData}from\"./data\";import\"./DataTable.css\";// Import the custom CSS file\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function DataTable(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),searchQuery=_useState4[0],setSearchQuery=_useState4[1];useEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var csvData;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetchCSVData();case 2:csvData=_context.sent;setData(csvData);case 4:case\"end\":return _context.stop();}},_callee);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();},[]);var columns=React.useMemo(function(){return[// Define your column headers here\n// { Header: \"Order Number\", accessor: \"Order Number\" },\n{Header:\"Customer Name\",accessor:\"Customer Name\"},{Header:\"Status\",accessor:\"Status\"},{Header:\"VIN\",accessor:\"VIN\"},{Header:\"ETA From\",accessor:\"ETA From\"},{Header:\"ETA To\",accessor:\"ETA To\"},{Header:\"Year\",accessor:\"Model Year\"},{Header:\"Model\",accessor:\"Model\"},{Header:\"Suffix\",accessor:\"Suffix\"},{Header:\"Colour\",accessor:\"Colour\"}// Add more columns as needed\n];},[]);var _useTable=useTable({columns:columns,data:data},useGlobalFilter),getTableProps=_useTable.getTableProps,getTableBodyProps=_useTable.getTableBodyProps,headerGroups=_useTable.headerGroups,rows=_useTable.rows,prepareRow=_useTable.prepareRow,setGlobalFilter=_useTable.setGlobalFilter;var handleSearch=function handleSearch(e){var query=e.target.value;setSearchQuery(query);setGlobalFilter(query);logEvent(\"Search\",\"Performed\");// Track the search event in Google Analytics\n};var clearSearch=function clearSearch(){setSearchQuery(\"\");logEvent(\"Search\",\"Cleared\");// Track the search event in Google Analytics\n};var filteredRows=searchQuery?rows.filter(function(row,index){return index===0||row.isMatched;}):[];return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"search-container\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:searchQuery,onChange:handleSearch,placeholder:\"Type your Order Number or Customer Name...\",className:\"search-input\"})}),searchQuery&&filteredRows.length>0?/*#__PURE__*/_jsxs(\"table\",_objectSpread(_objectSpread({},getTableProps()),{},{style:{width:\"100%\"},children:[/*#__PURE__*/_jsx(\"thead\",{children:headerGroups.map(function(headerGroup){return/*#__PURE__*/_jsx(\"tr\",_objectSpread(_objectSpread({},headerGroup.getHeaderGroupProps()),{},{children:headerGroup.headers.map(function(column){return/*#__PURE__*/_jsx(\"th\",_objectSpread(_objectSpread({},column.getHeaderProps()),{},{children:column.render(\"Header\")}));})}));})}),/*#__PURE__*/_jsx(\"tbody\",_objectSpread(_objectSpread({},getTableBodyProps()),{},{children:filteredRows.map(function(row){prepareRow(row);return/*#__PURE__*/_jsx(\"tr\",_objectSpread(_objectSpread({},row.getRowProps()),{},{children:row.cells.map(function(cell){return/*#__PURE__*/_jsx(\"td\",_objectSpread(_objectSpread({},cell.getCellProps()),{},{children:cell.render(\"Cell\")}));})}));})}))]})):searchQuery&&/*#__PURE__*/_jsx(\"p\",{className:\"no-results\",children:\"Your order may be \\\"Pending Fullfilment\\\". Verify that your search is entered correctly.\"})]});}","map":{"version":3,"names":["React","useEffect","useState","logEvent","useTable","useGlobalFilter","fetchCSVData","jsx","_jsx","jsxs","_jsxs","DataTable","_useState","_useState2","_slicedToArray","data","setData","_useState3","_useState4","searchQuery","setSearchQuery","fetchData","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","csvData","wrap","_callee$","_context","prev","next","sent","stop","apply","arguments","columns","useMemo","Header","accessor","_useTable","getTableProps","getTableBodyProps","headerGroups","rows","prepareRow","setGlobalFilter","handleSearch","e","query","target","value","clearSearch","filteredRows","filter","row","index","isMatched","children","className","type","onChange","placeholder","length","_objectSpread","style","width","map","headerGroup","getHeaderGroupProps","headers","column","getHeaderProps","render","getRowProps","cells","cell","getCellProps"],"sources":["/Users/harinderlabana/Code/eta-buddy-dev/src/DataTable.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { logEvent } from \"./analytics\"; // Import the logEvent function from analytics.js\nimport { useTable, useGlobalFilter } from \"react-table\";\nimport { fetchCSVData } from \"./data\";\nimport \"./DataTable.css\"; // Import the custom CSS file\n\nexport default function DataTable() {\n  const [data, setData] = useState([]);\n  const [searchQuery, setSearchQuery] = useState(\"\");\n\n  useEffect(() => {\n    const fetchData = async () => {\n      const csvData = await fetchCSVData();\n      setData(csvData);\n    };\n    fetchData();\n  }, []);\n\n  const columns = React.useMemo(\n    () => [\n      // Define your column headers here\n      // { Header: \"Order Number\", accessor: \"Order Number\" },\n      { Header: \"Customer Name\", accessor: \"Customer Name\" },\n      { Header: \"Status\", accessor: \"Status\" },\n      { Header: \"VIN\", accessor: \"VIN\" },\n      { Header: \"ETA From\", accessor: \"ETA From\" },\n      { Header: \"ETA To\", accessor: \"ETA To\" },\n      { Header: \"Year\", accessor: \"Model Year\" },\n      { Header: \"Model\", accessor: \"Model\" },\n      { Header: \"Suffix\", accessor: \"Suffix\" },\n      { Header: \"Colour\", accessor: \"Colour\" },\n      // Add more columns as needed\n    ],\n    []\n  );\n\n  const {\n    getTableProps,\n    getTableBodyProps,\n    headerGroups,\n    rows,\n    prepareRow,\n    setGlobalFilter,\n  } = useTable({ columns, data }, useGlobalFilter);\n\n  const handleSearch = (e) => {\n    const query = e.target.value;\n    setSearchQuery(query);\n    setGlobalFilter(query);\n    logEvent(\"Search\", \"Performed\"); // Track the search event in Google Analytics\n  };\n\n  const clearSearch = () => {\n    setSearchQuery(\"\");\n    logEvent(\"Search\", \"Cleared\"); // Track the search event in Google Analytics\n  };\n\n  const filteredRows = searchQuery\n    ? rows.filter((row, index) => index === 0 || row.isMatched)\n    : [];\n\n  return (\n    <div>\n      <div className=\"search-container\">\n        <input\n          type=\"text\"\n          value={searchQuery}\n          onChange={handleSearch}\n          placeholder=\"Type your Order Number or Customer Name...\"\n          className=\"search-input\"\n        />\n      </div>\n      {searchQuery && filteredRows.length > 0 ? (\n        <table {...getTableProps()} style={{ width: \"100%\" }}>\n          <thead>\n            {headerGroups.map((headerGroup) => (\n              <tr {...headerGroup.getHeaderGroupProps()}>\n                {headerGroup.headers.map((column) => (\n                  <th {...column.getHeaderProps()}>\n                    {column.render(\"Header\")}\n                  </th>\n                ))}\n              </tr>\n            ))}\n          </thead>\n          <tbody {...getTableBodyProps()}>\n            {filteredRows.map((row) => {\n              prepareRow(row);\n              return (\n                <tr {...row.getRowProps()}>\n                  {row.cells.map((cell) => (\n                    <td {...cell.getCellProps()}>{cell.render(\"Cell\")}</td>\n                  ))}\n                </tr>\n              );\n            })}\n          </tbody>\n        </table>\n      ) : (\n        searchQuery && (\n          <p className=\"no-results\">\n            Your order may be \"Pending Fullfilment\". Verify that your search is\n            entered correctly.\n          </p>\n        )\n      )}\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}